<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="description" content="This is an example of a meta description. This will often show up in search results so it is important to write a high quality description for each page of a website"><meta name="description" content="This is an example of a meta description. This will often show up in search results so it is important to write a high quality description for each page of a website">
	<title>Muhammads Portfolio::A Little About Me</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">	
	<link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>
	<header>
   		<img src="images/logo.png" alt="logo" height="75" width="300" class="img-fluid logo">
	</header>
	<nav>
		<ul>
			<a href="index.html">Home</a>&nbsp;&nbsp;
			<a href="resume.html">Resume</a>&nbsp;&nbsp;
			<a href="hobby.html">My Hobby</a>&nbsp;&nbsp;
			<a href="game.html">Game</a>
		</ul>
	</nav>
	<div class="home-hero">
			<h1>Tic Tac Toe</h1>
		</div>
	<body>
		
		<main>
		<h2>This is a game of tic tac toe from stackoverflow, I managed to input into my code and add a score-board to it.</h2>
		<div id="table">
		   <div></div>
		   <div></div>
		   <div></div>
		   <div></div>
		   <div></div>
		   <div></div>
		   <div></div>
		   <div></div>
		   <div></div>
		</div>
		
		<div id="message">  
		</div>
		<script>
			var wincount = 0;
			var tabEle = document.getElementById("table");
			var msgEle = document.getElementById("message"); 

			var newArr = Array.prototype.slice.call(tabEle.children);

			var clickCount = 0;
			var isBingo=false;

			newArr.forEach(ele=>{
			ele.addEventListener("click", (e)=>{eventHandler(e)})
			})

			function eventHandler(e){
			 if(!e.target.innerText){
			   clickCount++;
			   if(clickCount%2!=0){
			   e.target.innerText="X"
			   }else{
			   e.target.innerText="O";
			   }
			   checkBingo(e);
			 }
			}

			function checkBingo(e){
			 let cindex = newArr.indexOf(e.target);
			 let match = [[0,1,2],[0,3,6],[0,4,8],[1,4,7],[2,4,6],[2,5,8],[3,4,5],[6,7,8]];
			 
			 let filteredMatch = match.filter(ar=>{
			 return ar.includes(cindex);
			 })
			 
			 filteredMatch.forEach(ele=>{
			 if((newArr[ele[0]].innerText === newArr[ele[1]].innerText) && (newArr[ele[1]].innerText=== newArr[ele[2]].innerText)){
			 success(ele[0], ele[1], ele[2])

			 }else{
			 draw()
			 }
			 })
			}

			function success(...ar){
			ar.forEach((n)=>{
			 newArr[n].style.cssText="color:red"
			})
			++wincount;
			msgEle.innerText=`${newArr[ar[0]].innerText} has ` + wincount + ` wins`;
			
			isBingo=true;
			setTimeout(clearCells,5000);
			}

			function clearCells(){
			clickCount=0;
			isBingo=false;
			msgEle.innerText="";
			newArr.forEach(ar=>{
			ar.innerText="";
			ar.style.cssText="color:white"
			})
			}

			function draw(){
			var allCellsFilled = newArr.every(ele=>{
			return ele.innerText!="";
			})
			if(allCellsFilled && !isBingo){
			 msgEle.innerText="Draw match";
			 setTimeout(clearCells,3000)
			}


		}
			</script>
		</main>
	</body>
	<footer>
		<div class="container">
		  <div class="row">
		    <div class="col-sm-6">
		      <h3>Any Feedback?</h3>
		      <p>This website is the final project from CSCI 1450-60 where I learned how to create and publish a website, if you are interested in aquiring your own webisite, let me know, ill be happy to help you!</p>
		    </div>
		    <div class="col-sm-6">
		      <h3>Connect With Me!</h3>
		      <p><a href="mailto:muhammad.nawar.ia@gmail.com"><i class="fa fa-envelope" style="font-size: 20px"></i> Email Me</a><br>

			<a href="tel:8008675309"><i class="fa fa-phone" style="font-size: 20px"></i> Call Me</a> <br>

		<a href="sms:8008675309"><i class="fa fa-mobile" style="font-size: 20px"></i> Text Me</a></p>
		
		    </div>
		  </div>
		</div>
		
		<small>&copy; Muhammad Nawar. All Rights Reserved.</small>
	</footer>
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>